{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/macbook/Documents/WebEnterPrise/client/src/components/screens/ViewReportForCor.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport \"./PrivateScreen.css\";\nimport { useState, useEffect, Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PDFViewer from 'pdf-viewer-reactjs';\nimport alert from '../constant/alert';\nimport { Block } from \"@material-ui/icons\";\nexport default function ViewRerportForCor({\n  match\n}) {\n  _s();\n\n  const [error, setError] = useState(\"\");\n  const [report, setReport] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      token: localStorage.getItem(\"authToken\")\n    }\n  };\n  useEffect(() => {\n    const fetchPrivateDate = async () => {\n      try {\n        const data = await axios.get(\"/homeCoor/lstFaculty/report/view/\" + match.params.facultyId + \"/\" + match.params.reportId, config);\n\n        if (data) {\n          console.log(data);\n          setReport(data.data.reportUrl);\n          setTitle(data.data.title);\n        }\n      } catch (error) {\n        // localStorage.removeItem(\"authToken\");\n        setError(\"You are not authorized please login\");\n      }\n    };\n\n    fetchPrivateDate();\n  }, []);\n\n  const handleFeedback = async e => {\n    e.preventDefault();\n\n    try {\n      const data = await axios.post(\"/homeCoor/lstFaculty/report/feedback/\" + match.params.facultyId + \"/\" + match.params.reportId, { ...report\n      }, config);\n\n      if (data) {\n        alert('FeedBack Added', 'success');\n        window.location = \"/submit_for_faculty/\" + match.params.facultyId;\n      }\n    } catch (err) {\n      setError(\"feedback fail\");\n      alert('FeedBack Failed', 'error');\n    }\n  };\n\n  function handle(e) {\n    const newData = { ...report\n    };\n    newData[e.target.id] = e.target.value;\n    setReport(newData);\n  } // const display = report.map((item,index) => \n  //   <tr key={index}>\n  //     <td>{item?.reportID?.student?.name}</td>\n  //     <td>{item?.reportID.reportUrl}</td>\n  //     <td>{item?.reportID.CreateAt}</td>\n  //     <td>{item?.reportID.reportStatus}</td>\n  //     <td><Link to={`//${item._id}`} color=\"warning\" className=\"btn btn-warning mr-1\">View</Link></td>\n  //     <td><Link to={`//${item._id}`} color=\"warning\" className=\"btn btn-warning mr-1\">Upload</Link></td>\n  //   </tr>  \n  // )\n\n\n  return error ? /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"error-message\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"data\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"Faculty / Report / Feedback\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"register-screen__form\",\n        onSubmit: e => handleFeedback(e),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"register-screen__title\",\n          children: \"Feeback Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Report: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: e => window.open(report, \"_blank\"),\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"abc\",\n            children: \"Feedback: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            type: \"text\",\n            name: \"feedback\",\n            required: true,\n            id: \"feedback\",\n            placeholder: \"FeedBack\",\n            value: report.feedback,\n            onChange: e => handle(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"abc\",\n            children: \"Point: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"point\",\n            required: true,\n            id: \"point\",\n            placeholder: \"Point\",\n            value: report.point,\n            onChange: e => handle(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Send Feedback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewRerportForCor, \"hrQ/TmBDVocYhU2Y34xfiyVY2Ao=\");\n\n_c = ViewRerportForCor;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewRerportForCor\");","map":{"version":3,"sources":["/Users/macbook/Documents/WebEnterPrise/client/src/components/screens/ViewReportForCor.js"],"names":["React","axios","useState","useEffect","Component","Link","PDFViewer","alert","Block","ViewRerportForCor","match","error","setError","report","setReport","title","setTitle","config","headers","token","localStorage","getItem","fetchPrivateDate","data","get","params","facultyId","reportId","console","log","reportUrl","handleFeedback","e","preventDefault","post","window","location","err","handle","newData","target","id","value","open","feedback","point"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport \"./PrivateScreen.css\";\nimport { useState, useEffect, Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PDFViewer from 'pdf-viewer-reactjs'\nimport alert from '../constant/alert';\nimport { Block } from \"@material-ui/icons\";\nexport default function ViewRerportForCor({match}) {\n  const [error, setError] = useState(\"\");\n  const [report, setReport] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      token: localStorage.getItem(\"authToken\"),\n    },\n  };\n \n  \n\n  useEffect(() => {\n    const fetchPrivateDate = async () => {\n      try {\n        const data  = await axios.get(\"/homeCoor/lstFaculty/report/view/\"+match.params.facultyId+\"/\"+match.params.reportId, config);\n        if(data) {\n          console.log(data);\n          setReport(data.data.reportUrl);\n          setTitle(data.data.title);\n        }\n        \n      } catch (error) {\n        // localStorage.removeItem(\"authToken\");\n        setError(\"You are not authorized please login\");\n      }\n    };\n\n    fetchPrivateDate();\n  }, []);\n\n  const handleFeedback = async (e) => {\n    e.preventDefault();\n    try{\n      const data = await axios.post(\"/homeCoor/lstFaculty/report/feedback/\"+match.params.facultyId+\"/\"+match.params.reportId,{...report}, config);\n      if(data) {\n        alert('FeedBack Added', 'success')\n        window.location = \"/submit_for_faculty/\"+match.params.facultyId\n      }\n    } catch(err){\n      setError(\"feedback fail\");\n      alert('FeedBack Failed', 'error')\n    }\n  } \n\n  function handle(e){\n    const newData = {...report}\n    newData[e.target.id]=e.target.value\n    setReport(newData);\n  }\n  // const display = report.map((item,index) => \n  //   <tr key={index}>\n  //     <td>{item?.reportID?.student?.name}</td>\n  //     <td>{item?.reportID.reportUrl}</td>\n  //     <td>{item?.reportID.CreateAt}</td>\n  //     <td>{item?.reportID.reportStatus}</td>\n  //     <td><Link to={`//${item._id}`} color=\"warning\" className=\"btn btn-warning mr-1\">View</Link></td>\n  //     <td><Link to={`//${item._id}`} color=\"warning\" className=\"btn btn-warning mr-1\">Upload</Link></td>\n      \n  //   </tr>  \n  // )\n  return error ? (\n    <span className=\"error-message\">{error}</span>\n  ) : (\n    <div className=\"data\" > \n      <h1 className=\"title\">Faculty / Report / Feedback</h1>\n      <div className=\"register-screen\" >\n        <form  className=\"register-screen__form\" onSubmit={(e) => handleFeedback(e)}>\n          <h3 className=\"register-screen__title\">Feeback Report</h3>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Report: </label>\n            <a onClick={e => window.open(report, \"_blank\")}>{title}</a>\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"name\" className=\"abc\">Feedback: </label>\n            <textarea type=\"text\"\n              name=\"feedback\"\n              required\n              id=\"feedback\"\n              placeholder=\"FeedBack\"\n              value={report.feedback}\n              onChange={(e)=>handle(e)}></textarea>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\" className=\"abc\">Point: </label>\n            <input type=\"text\"\n              name=\"point\"\n              required\n              id=\"point\"\n              placeholder=\"Point\"\n              value={report.point}\n              onChange={(e)=>handle(e)} />\n          </div>\n          \n          <button type=\"submit\" className=\"btn btn-primary\">Send Feedback</button>\n        </form>\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}