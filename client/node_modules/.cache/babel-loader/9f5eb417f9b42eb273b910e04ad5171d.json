{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/macbook/Documents/WebEnterPrise/client/src/components/screens/ViewReportForCor.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport \"./PrivateScreen.css\";\nimport { useState, useEffect, Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PDFViewer from 'pdf-viewer-reactjs';\nimport alert from '../constant/alert';\nexport default function ViewRerportForCor({\n  match\n}) {\n  _s();\n\n  const [error, setError] = useState(\"\");\n  const [report, setReport] = useState([]);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      token: localStorage.getItem(\"authToken\")\n    }\n  };\n  useEffect(() => {\n    const fetchPrivateDate = async () => {\n      try {\n        const data = await axios.get(\"/homeCoor/lstFaculty/report/view/\" + match.params.facultyId + \"/\" + match.params.reportId, config);\n\n        if (data) {\n          console.log(data);\n          setReport(data.data.reportUrl);\n        }\n      } catch (error) {\n        // localStorage.removeItem(\"authToken\");\n        setError(\"You are not authorized please login\");\n      }\n    };\n\n    fetchPrivateDate();\n  }, []);\n\n  const handleFeedback = async e => {\n    e.preventDefault();\n\n    try {\n      const data = await axios.post(\"/homeCoor/lstFaculty/report/feedback/\" + match.params.facultyId + \"/\" + match.params.reportId, { ...report\n      }, config);\n\n      if (data) {\n        alert('FeedBack Added', 'success');\n      }\n    } catch (err) {\n      setError(\"feedback fail\");\n      alert('FeedBack Failed', 'error');\n    }\n  };\n\n  function handle(e) {\n    const newData = { ...report\n    };\n    newData[e.target.id] = e.target.value;\n    setReport(newData);\n  } // const display = report.map((item,index) => \n  //   <tr key={index}>\n  //     <td>{item?.reportID?.student?.name}</td>\n  //     <td>{item?.reportID.reportUrl}</td>\n  //     <td>{item?.reportID.CreateAt}</td>\n  //     <td>{item?.reportID.reportStatus}</td>\n  //     <td><Link to={`//${item._id}`} color=\"warning\" className=\"btn btn-warning mr-1\">View</Link></td>\n  //     <td><Link to={`//${item._id}`} color=\"warning\" className=\"btn btn-warning mr-1\">Upload</Link></td>\n  //   </tr>  \n  // )\n\n\n  return error ? /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"error-message\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"register-screen__form\",\n      onSubmit: e => handleFeedback(e),\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"register-screen__title\",\n        children: \"Feeback Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Report: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: e => window.open(report, \"_blank\"),\n          children: \"File Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Feedback: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"feedback\",\n          required: true,\n          id: \"feedback\",\n          placeholder: \"FeedBack\",\n          value: report.feedback,\n          onChange: e => handle(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewRerportForCor, \"VDc5Ibl6tOJ0wwfz6dreRyKBDOU=\");\n\n_c = ViewRerportForCor;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewRerportForCor\");","map":{"version":3,"sources":["/Users/macbook/Documents/WebEnterPrise/client/src/components/screens/ViewReportForCor.js"],"names":["React","axios","useState","useEffect","Component","Link","PDFViewer","alert","ViewRerportForCor","match","error","setError","report","setReport","config","headers","token","localStorage","getItem","fetchPrivateDate","data","get","params","facultyId","reportId","console","log","reportUrl","handleFeedback","e","preventDefault","post","err","handle","newData","target","id","value","window","open","feedback"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,qBAAP;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,SAA9B,QAA+C,OAA/C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,eAAe,SAASC,iBAAT,CAA2B;AAACC,EAAAA;AAAD,CAA3B,EAAoC;AAAA;;AACjD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC;AACA,QAAMY,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEPC,MAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB;AAFA;AADI,GAAf;AASAf,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,gBAAgB,GAAG,YAAY;AACnC,UAAI;AACF,cAAMC,IAAI,GAAI,MAAMnB,KAAK,CAACoB,GAAN,CAAU,sCAAoCZ,KAAK,CAACa,MAAN,CAAaC,SAAjD,GAA2D,GAA3D,GAA+Dd,KAAK,CAACa,MAAN,CAAaE,QAAtF,EAAgGV,MAAhG,CAApB;;AACA,YAAGM,IAAH,EAAS;AACPK,UAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACAP,UAAAA,SAAS,CAACO,IAAI,CAACA,IAAL,CAAUO,SAAX,CAAT;AACD;AAEF,OAPD,CAOE,OAAOjB,KAAP,EAAc;AACd;AACAC,QAAAA,QAAQ,CAAC,qCAAD,CAAR;AACD;AACF,KAZD;;AAcAQ,IAAAA,gBAAgB;AACjB,GAhBQ,EAgBN,EAhBM,CAAT;;AAkBA,QAAMS,cAAc,GAAG,MAAOC,CAAP,IAAa;AAClCA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAG;AACD,YAAMV,IAAI,GAAG,MAAMnB,KAAK,CAAC8B,IAAN,CAAW,0CAAwCtB,KAAK,CAACa,MAAN,CAAaC,SAArD,GAA+D,GAA/D,GAAmEd,KAAK,CAACa,MAAN,CAAaE,QAA3F,EAAoG,EAAC,GAAGZ;AAAJ,OAApG,EAAiHE,MAAjH,CAAnB;;AACA,UAAGM,IAAH,EAAS;AACPb,QAAAA,KAAK,CAAC,gBAAD,EAAmB,SAAnB,CAAL;AACD;AACF,KALD,CAKE,OAAMyB,GAAN,EAAU;AACVrB,MAAAA,QAAQ,CAAC,eAAD,CAAR;AACAJ,MAAAA,KAAK,CAAC,iBAAD,EAAoB,OAApB,CAAL;AAED;AACF,GAZD;;AAcA,WAAS0B,MAAT,CAAgBJ,CAAhB,EAAkB;AAChB,UAAMK,OAAO,GAAG,EAAC,GAAGtB;AAAJ,KAAhB;AACAsB,IAAAA,OAAO,CAACL,CAAC,CAACM,MAAF,CAASC,EAAV,CAAP,GAAqBP,CAAC,CAACM,MAAF,CAASE,KAA9B;AACAxB,IAAAA,SAAS,CAACqB,OAAD,CAAT;AACD,GAhDgD,CAiDjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AACA,SAAOxB,KAAK,gBACV;AAAM,IAAA,SAAS,EAAC,eAAhB;AAAA,cAAiCA;AAAjC;AAAA;AAAA;AAAA;AAAA,UADU,gBAIV;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,2BACE;AAAO,MAAA,SAAS,EAAC,uBAAjB;AAAyC,MAAA,QAAQ,EAAGmB,CAAD,IAAOD,cAAc,CAACC,CAAD,CAAxE;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAO,UAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAG,UAAA,OAAO,EAAEA,CAAC,IAAIS,MAAM,CAACC,IAAP,CAAY3B,MAAZ,EAAoB,QAApB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAOE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAO,UAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAU,UAAA,IAAI,EAAC,MAAf;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,QAAQ,MAFV;AAGE,UAAA,EAAE,EAAC,UAHL;AAIE,UAAA,WAAW,EAAC,UAJd;AAKE,UAAA,KAAK,EAAEA,MAAM,CAAC4B,QALhB;AAME,UAAA,QAAQ,EAAGX,CAAD,IAAKI,MAAM,CAACJ,CAAD;AANvB;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,eAkBE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAJF;AA2BD;;GAvFuBrB,iB;;KAAAA,iB","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport \"./PrivateScreen.css\";\nimport { useState, useEffect, Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PDFViewer from 'pdf-viewer-reactjs'\nimport alert from '../constant/alert';\nexport default function ViewRerportForCor({match}) {\n  const [error, setError] = useState(\"\");\n  const [report, setReport] = useState([]);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      token: localStorage.getItem(\"authToken\"),\n    },\n  };\n \n  \n\n  useEffect(() => {\n    const fetchPrivateDate = async () => {\n      try {\n        const data  = await axios.get(\"/homeCoor/lstFaculty/report/view/\"+match.params.facultyId+\"/\"+match.params.reportId, config);\n        if(data) {\n          console.log(data);\n          setReport(data.data.reportUrl);\n        }\n        \n      } catch (error) {\n        // localStorage.removeItem(\"authToken\");\n        setError(\"You are not authorized please login\");\n      }\n    };\n\n    fetchPrivateDate();\n  }, []);\n\n  const handleFeedback = async (e) => {\n    e.preventDefault();\n    try{\n      const data = await axios.post(\"/homeCoor/lstFaculty/report/feedback/\"+match.params.facultyId+\"/\"+match.params.reportId,{...report}, config);\n      if(data) {\n        alert('FeedBack Added', 'success')\n      }\n    } catch(err){\n      setError(\"feedback fail\");\n      alert('FeedBack Failed', 'error')\n\n    }\n  } \n\n  function handle(e){\n    const newData = {...report}\n    newData[e.target.id]=e.target.value\n    setReport(newData);\n  }\n  // const display = report.map((item,index) => \n  //   <tr key={index}>\n  //     <td>{item?.reportID?.student?.name}</td>\n  //     <td>{item?.reportID.reportUrl}</td>\n  //     <td>{item?.reportID.CreateAt}</td>\n  //     <td>{item?.reportID.reportStatus}</td>\n  //     <td><Link to={`//${item._id}`} color=\"warning\" className=\"btn btn-warning mr-1\">View</Link></td>\n  //     <td><Link to={`//${item._id}`} color=\"warning\" className=\"btn btn-warning mr-1\">Upload</Link></td>\n      \n  //   </tr>  \n  // )\n  return error ? (\n    <span className=\"error-message\">{error}</span>\n  ) : (\n\n    <div className=\"register-screen\" >\n      <form  className=\"register-screen__form\" onSubmit={(e) => handleFeedback(e)}>\n        <h3 className=\"register-screen__title\">Feeback Report</h3>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Report: </label>\n          <a onClick={e => window.open(report, \"_blank\")}>File Report</a>\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Feedback: </label>\n          <textarea type=\"text\"\n            name=\"feedback\"\n            required\n            id=\"feedback\"\n            placeholder=\"FeedBack\"\n            value={report.feedback}\n            onChange={(e)=>handle(e)}></textarea>\n        </div>\n        \n        <button type=\"submit\" className=\"btn btn-primary\">Upload</button>\n      </form>\n  </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}